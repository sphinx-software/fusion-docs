# I18n
I18n is a simple package for sphinx-software. i18n is used in the View to resolve multi language. 

I18n provides:
- Translation context.
- Set language.
## Getting Started

Please be aware these samples are just showing basic usage of the core functionality. 
For production usage please consider using one of our framework integrations to get better and simpler integrations 
(Setting innerHTML is just done to show how it works).

### Config

In the config directory, create the i18n.js file as follows:

```js
import path from "path";
import NodeFileSystem from 'i18next-node-fs-backend';

export default {
    debug  : false,
    lng    : 'en',
    ns     : ['translation'],
    backend: {
        type: NodeFileSystem,
        loadPath: path.normalize(path.join(__dirname, '..', 'resources', 'locales', '{{lng}}/{{ns}}.json')),
    }
}
```

### Resource

Create resource for each language by structure:
```bash
resource
└── locales
    ├── en
    │   └── translation.json
    └── vi
        └── translation.json
```
File translation.json has a simple structure of key and value
Example: 
```json
{
  "test": "this is english"
}
```

## Implement
Export i18n in manifest.js
```js
export * from 'Fusion/i18n';
```
### Provide TranslatorInterface
```js
import { TranslatorInterface } from "Fusion";
```

### Translation context.
```js
@singleton(TranslatorInterface)
@controller()
export default class Controller {

    /**
     *
     * @param translator
     */
    constructor(translator) {
        this.transtalor = translator;
    }

    @get('/')
    async index(context) {
        this.transtalor.locale('vi');
        this.transtalor.translate('test');
    }
}

```

### Set language
```js
transtalor.locale('vi');
```
# Use as a Filter 

Use as a Filter in the View
```html
<p>{{ 'test'| translate }}</p>
```